{% macro render_field(field, icon="", placeholder='', autofocus=False) %}
  <div class="form-group {% if icon %} has-feedback{% endif %}{% if field.errors %} has-error{% endif %}">
    {{ field.label }}
    {% set extras = dict(autofocus="") if autofocus else dict() %}
    {{field(class_="form-control", placeholder=placeholder, **extras)}}
    {% if icon %}
    <i class="{{icon}} form-control-feedback" aria-hidden="true" ></i>
    {% endif %}
    {% if field.description %}
    <span class="help-block"><small>{{ field.description }}</small></span>
    {% endif %}
    {% if field.errors %}
    <div class="alert alert-danger alert-dismissible text-left" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    {% for error in field.errors %}
    <p>{{error}}</p>
    {% endfor %}
    </div>
    {% endif %}
  </div>
{% endmacro %}

{% macro icons() %}
  <svg style="display:none;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <symbol id="shape_rectangle">
      <title>Rectangular region shape</title>
      <rect width="20" height="12" x="6" y="10" stroke-width="2"></rect>
      </symbol>
      <symbol id="shape_circle">
      <title>Circular region shape</title>
      <circle r="10" cx="16" cy="16" stroke-width="2"></circle>
      </symbol>
      <symbol id="shape_ellipse">
      <title>Elliptical region shape</title>
      <ellipse rx="12" ry="8" cx="16" cy="16" stroke-width="2"></ellipse>
      </symbol>
      <symbol id="shape_polygon">
      <title>Polygon region shape</title>
      <path d="M 15.25,2.2372 3.625,11.6122 6,29.9872 l 20.75,-9.625 2.375,-14.75 z" stroke-width="2"></path>
      </symbol>
      <symbol id="shape_point">
      <title>Point region shape</title>
      <circle r="3" cx="16" cy="16" stroke-width="2"></circle>
      </symbol>
      <symbol id="shape_polyline">
      <title>Polyline region shape</title>
      <path d="M 2,12 10,24 18,12 24,18" stroke-width="2"></path>
      <circle r="1" cx="2" cy="12" stroke-width="2"></circle>
      <circle r="1" cx="10" cy="24" stroke-width="2"></circle>
      <circle r="1" cx="18" cy="12" stroke-width="2"></circle>
      <circle r="1" cx="24" cy="18" stroke-width="2"></circle>
      </symbol>
      <symbol id="icon_zoomin">
      <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
      <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
      </symbol>
      <symbol id="icon_zoomout">
      <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path>
      </symbol>
      <symbol id="icon_copy">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path>
      </symbol>
      <symbol id="icon_paste">
      <path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path>
      </symbol>
      <symbol id="icon_pasten">
      <path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path>
      <text x="8" y="18">n</text>
      </symbol>
      <symbol id="icon_pasteundo">
      <path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path>
      <text x="8" y="18">x</text>
      </symbol>
      <symbol id="icon_selectall">
      <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path>
      </symbol>
      <symbol id="icon_close">
      <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
      <symbol id="icon_pointer">
      <path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M4,12c0-4.4,3.6-8,8-8c1.8,0,3.5,0.6,4.9,1.7L5.7,16.9 C4.6,15.5,4,13.8,4,12z M12,20c-1.8,0-3.5-0.6-4.9-1.7L18.3,7.1C19.4,8.5,20,10.2,20,12C20,16.4,16.4,20,12,20z"></path>
      </symbol>
      <symbol id="icon_forward">
      <path d="M369.736,169.538L188.615,45.573c-8.171-5.586-18.775-6.201-27.532-1.57 c-8.771,4.617-14.25,13.713-14.25,23.608v49.878l-105.051-71.9C33.611,40,23.007,39.386,14.251,44.002 C5.477,48.636,0,57.731,0,67.627v244.879c0,9.942,5.511,19.053,14.327,23.654c8.803,4.617,19.422,3.955,27.594-1.709l104.912-72.73 v50.769c0,9.941,5.51,19.053,14.313,23.67c8.817,4.6,19.451,3.938,27.607-1.725L369.86,208.872 c6.447-4.477,10.294-11.85,10.265-19.698C380.11,181.309,376.215,173.969,369.736,169.538z"></path>
      </symbol>
    </defs>
  </svg>
{% endmacro %}
